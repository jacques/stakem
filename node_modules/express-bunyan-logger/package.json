{
  "name": "express-bunyan-logger",
  "version": "1.1.0",
  "description": "a bunyan logger middleware for express",
  "main": "index.js",
  "scripts": {
    "lint": "jshint index.js test/*.js",
    "test": "npm run lint && ./node_modules/.bin/mocha -R spec"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/villadora/express-bunyan-logger.git"
  },
  "keywords": [
    "express",
    "logger",
    "bunyan"
  ],
  "dependencies": {
    "bunyan": "^1.0.0",
    "node-uuid": "^1.4.1",
    "useragent": "^2.0.9"
  },
  "devDependencies": {
    "express": "4.x",
    "grunt": "~0.4.1",
    "grunt-contrib-clean": "~0.4.0",
    "grunt-contrib-jshint": "~0.3.0",
    "grunt-contrib-watch": "~0.3.0",
    "jshint": "~2.1.9",
    "mocha": "~1.12.0",
    "supertest": "*",
    "through2": "^0.5.1"
  },
  "readmeFilename": "README.md",
  "author": {
    "name": "wei.gao",
    "email": "jky239@gmail.com"
  },
  "contributors": [
    {
      "name": "Wei Gao",
      "email": "jky239@gmail.com"
    },
    {
      "name": "Paris Holley",
      "email": "mail@parisholley.com"
    },
    {
      "name": "Ognian Tschakalov",
      "email": "ognian.tschakalov@ogi-it.com"
    },
    {
      "name": "Simon Wade",
      "email": "simon.wade@gmail.com"
    }
  ],
  "license": "BSD",
  "readme": "# Express-bunyan-logger\n\nA express logger middleware powered by [bunyan](https://github.com/trentm/node-bunyan).\n\n[![Build Status](https://travis-ci.org/villadora/express-bunyan-logger.png?branch=master)](https://travis-ci.org/villadora/express-bunyan-logger) [![dependencies](https://david-dm.org/villadora/express-bunyan-logger.png)](https://david-dm.org/villadora/express-bunyan-logger)\n\n\n## Installation\n\n    npm install express-bunyan-logger\n   \n## Usage\n\nTo use the logger: \n\n    app.use(require('express-bunyan-logger')());\n\nTo use the errorLogger:\n\n    app.use(require('express-bunyan-logger').errorLogger());\n\nAnd you can also pass bunyan logger options to the logger middleware:\n\n    app.use(require('express-bunyan-logger')({\n        name: 'logger', \n        streams: [{\n            level: 'info',\n            stream: process.stdout\n            }]\n        }));\n\nChange default format:\n\n    app.use(require('express-bunyan-logger')({\n        format: \":remote-address - :user-agent[major] custom logger\"\n    });\n\nAnd a child logger will be attached to each request object:\n\n```javascript\napp.use(require('express-bunyan-logger')();\napp.use(function(req, res, next) {\n    req.log.debug('this is debug in middleware');\n    next();\n});\n```\n\n## Configuration\n\n### options.format\n\nFormat string, please go the source code to the metadata. \":name\" will print out meta.name; \":name[key]\" will print out the property 'key' of meta.name.\n\nOr you can pass a function to _options.format_. This function accept a object as argument and return string.\n\n### options.parseUA\n\nWhether to parse _user-agent_ in logger, default is =true=.\n\n### options.levelFn\n\nFunction that translate statusCode into log level.\n\n```\nfunction(status, err /* only will work in error logger */) {\n     // return string of level\n     return \"info\";\n}\n```\n\n### options.excludes\n\nArray of string, Those fields will be excluded from meta object which passed to bunyan\n\n### options.immediate\n\nWrite log line on request instead of response (for response times)\n\n### optiosn.genReqId\n\nBy default, `express-bunyan-logger` will generate an unique id for each request, and a field 'req_id' will be added to child logger in `request` object.\n\nIf you have already use other middleware/framework to generate request id, you can pass a function to retrieve it:\n\n```javascript\n// suppose connect-requestid middleware is already added.\napp.use(require('express-bunyan-logger')({\n    genReqId: function(req) {\n       return req.id;\n    }\n});\n```\n\n\n## License\n\n(The BSD License)\n\n    Copyright (c) 2013, Villa.Gao <jky239@gmail.com>;\n",
  "bugs": {
    "url": "https://github.com/villadora/express-bunyan-logger/issues"
  },
  "homepage": "https://github.com/villadora/express-bunyan-logger",
  "_id": "express-bunyan-logger@1.1.0",
  "_from": "express-bunyan-logger@"
}
